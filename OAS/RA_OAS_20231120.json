{
    "info": {
        "contact": {
            "email": "api.management@nhs.net",
            "name": "API Management Support"
        },
        "description": "## Overview\nUse this API to access and update the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag#top) - a national record which indicates that a patient requires reasonable adjustments and optionally includes details of impairments and adjustments to be considered.\n\nYou can:\n - check if a Reasonable Adjustment Flag exists\n - read a Reasonable Adjustment Flag\n - create a Reasonable Adjustment Flag\n - update a Reasonable Adjustment Flag\n - remove a Reasonable Adjustment Flag\n \nThe flag consists of three parts:\n - details of consent to share the Flag and how this was obtained. Consent may have been given by the patient or via a 'best interest decision' under the [Mental Capacity Act (2005)](https://www.nhs.uk/conditions/social-care-and-support-guide/making-decisions-for-someone-else/mental-capacity-act/). In some cases consent can also be obtained from a lasting power of attorney for health and welfare or a court appointed deputy.\n - details of impairments, which enable clinicians to understand the range of adjustments the patient may require. Note that the patient may decline to say what their impairments are.\n - details of reasonable adjustments to services which are needed by the patient when providing their care. \n\nThis API can only be used by relevant health and care staff providing direct care, authenticated with an NHS [smartcard](https://digital.nhs.uk/services/registration-authorities-and-smartcards) or equivalent.\n\nThe existance of a flag is intended to be visible to all staff who have access to the patient record.  The contents of the Flag may only be visible to clinical staff - as determined by role-based access controls (RBAC). For more details see [Registration authorities and smartcards](https://digital.nhs.uk/services/registration-authorities-and-smartcards).\n\nTo find out more about how the flag works, categories and types of adjustments and the recording of impairments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\nTo watch a video of a Reasonable Adjustment Flag being created in [SCRa](https://digital.nhs.uk/services/summary-care-record-application) see [Creating a Reasonable Adjustment Flag on the NHS Spine](https://www.youtube.com/watch?v=dX-IwYXXEwE).\n\nA healthcare worker must be present and authenticated with an [NHS smartcard or a modern alternative](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/nhs-smartcards-for-developers) to use this API.\n\n## Who can use this API\nThis API can only be used where there is a legal basis to do so. Make sure you have a valid use case before you go too far with your development. You must do this before you can go live (see ‘Onboarding’ below).\n\n## Related APIs\nTo use this API, you will need the patient's NHS number, which can be retrieved by using the following API:\n\n  - [Personal Demographics Service (FHIR) API](https://digital.nhs.uk/developer/api-catalogue/personal-demographics-service-fhir) - use this API to search for patients and retrieve their details.  This API can also be used to update their details in some cases.\n\n When using this API, we also recommend that you consider using these related APIs:\n\n  - [Female Genital Mutilation Information Sharing System (FGM-IS)](https://developer.nhs.uk/apis/fgm-v2.1/) - use this API to store and share FGM information of children under 18 with relevant NHS healthcare professionals across departments, organisations and geographical boundaries within England.\n\n  - [Child Protection Information Sharing (CP-IS) - HL7 V3 API](https://digital.nhs.uk/services/child-protection-information-sharing-project/cp-is-domain-message-specification) - use this API to provide access to CP-IS, a sharing system which provides healthcare workers with access to recent unscheduled care attendance information for children under a local authority social care plan. \n\n  - [National Record Locator (NRL) (FHIR) API](https://developer.nhs.uk/apis/nrl/) - use this API to locate and share patient records held within local health and social care systems.\n\n## API status and roadmap\n This API is [in development](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#statuses) - expect further breaking changes.\n \n The API is currently available for sandbox testing, but not integration testing or for production use.\n     \nTo see our roadmap, or to suggest, comment or vote on features for this API, see our [interactive product backlog](https://nhs-digital-api-management.featureupvote.com/?order=popular&filter=all&tag=reasonable-adjustment-flag#controls).\n\nIf you have any other queries, please [contact us](https://digital.nhs.uk/developer/help-and-support).\n\n## Technology\nThis API is [RESTful](/developer/guides-and-documentation/api-technologies-at-nhs-digital#basic-rest).\n\nIt also conforms to the [FHIR (STU3)](https://digital.nhs.uk/developer/guides-and-documentation/api-technologies-at-nhs-digital#fhir) global standard for health care data exchange. Specifically it conforms to [FHIR Release 3](https://www.hl7.org/fhir/STU3/).\n\nYou don’t need to know much about FHIR to use this API - FHIR APIs are just RESTful APIs that follow specific rules. In particular:\n- array names are singular, for example `line` not `lines` for address lines\n- data items that are country-specific and thus not included in the FHIR global base resources are usually wrapped in an `extension` object\n\n### Resources\nFor information on the resources used within the Reasonable Adjustment Flag API see [Reasonable Adjustment Flag FHIR specification](https://dev-reasonable-adjust-beta.netlify.app/explore.html).\n\n\n## Network Access\nThis API is available on the internet and, indirectly, on the [Health and Social Care Network (HSCN)](https://digital.nhs.uk/services/health-and-social-care-network). To use this API with [NHS smartcards](https://digital.nhs.uk/services/registration-authorities-and-smartcards), the end user needs an HSCN connection, although internet-facing alternatives to smartcards are available.\n\nFor more details see [Network access for APIs](https://digital.nhs.uk/developer/guides-and-documentation/network-access-for-apis).\n\n## Security and authorisation\nThis API is [user-restricted](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis), meaning an end user must be present and authenticated to use it.\n\nThe end user must be:\n- a healthcare professional\n- strongly authenticated, using either an NHS [smartcard](https://digital.nhs.uk/services/registration-authorities-and-smartcards) or a [modern alternative](https://digital.nhs.uk/services/nhs-care-identity-service-2/ways-to-authenticate-with-nhs-cis2) available via [NHS Care Identity Service 2 (NHS CIS2)](https://digital.nhs.uk/services/nhs-care-identity-service-2)\n\nThe API uses OAuth 2.0 to authorise the calling system. It supports the following security patterns:\n\n- [user-restricted RESTful API - using NHS CIS2 - combined authentication and authorisation](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation)\n- [user-restricted RESTful API - using NHS CIS2 - separate authentication and authorisation](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation)\n\nFor more details, see [user-restricted APIs](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\nYou must implement role-based access controls (RBAC) within your application to determine whether the end user is allowed to see (and update) the details of the record or only to know of its existence.\n\nFor more details see [Registration authorities and smartcards](https://digital.nhs.uk/services/registration-authorities-and-smartcards).\n\n\n## Environments and testing\n| Purpose                                | Base URL                                 |\n| ---------------------------------------|------------------------------------------|\n| Sandbox                                | `https://sandbox.service.nhs.uk/reasonable-adjustment-flag/FHIR/STU3`    |\n| Integration test **(available Jan 2021)**  | `https://int.service.nhs.uk/reasonable-adjustment-flag/FHIR/STU3`        |\n| Production **(available Mar 2021)** | `https://api.service.nhs.uk/reasonable-adjustment-flag/FHIR/STU3`      |\n\n\n### Sandbox testing\nOur [sandbox environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#sandbox-testing):\n  - is for early developer testing\n  - only covers a limited set of scenarios\n  - is stateless, so it does not actually persist any updates\n  - is open access, so does not allow you to test authorisation \n\nFor more details on sandbox testing, or to try out the sandbox using our \\\"Try this API\\\" feature, see the documentation for each endpoint.\n\n### Integration testing\nOur [integration test environment](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing):\n* is for formal integration testing\n* is stateful, so persists updates\n* includes authorisation, with options for user-restricted access (with or without [smartcards](https://digital.nhs.uk/services/registration-authorities-and-smartcards))\n\nTo test updating patient details, you must set up your own test data.\n\nFor more details see [integration testing with our RESTful APIs](https://digital.nhs.uk/developer/guides-and-documentation/testing#integration-testing-with-our-restful-apis).\n\n## Onboarding\nYou need to get your software approved by us before it can go live with this API. We call this onboarding. The onboarding process can sometimes be quite long, so it’s worth planning well ahead.\n\nAs part of this process, you need to demonstrate that you can manage risks and that your software conforms technically with the requirements for this API.\n\nInformation on this page might impact the design of your software. For details, see [Onboarding support information](https://digital.nhs.uk/developer/api-catalogue/reasonable-adjustment-flag-fhir/onboarding-support-information).\n\nTo understand how our online digital onboarding process works, see [digital onboarding](https://digital.nhs.uk/developer/guides-and-documentation/digital-onboarding).\n\n<div class=\"nhsd-m-emphasis-box nhsd-m-emphasis-box--emphasis nhsd-!t-margin-bottom-6\" aria-label=\"Highlighted Information\">\n    <div class=\"nhsd-a-box nhsd-a-box--border-blue\">\n        <div class=\"nhsd-m-emphasis-box__image-box\">\n            <figure class=\"nhsd-a-image\">\n                <picture class=\"nhsd-a-image__picture\">\n                    <img src=\"http://digital.nhs.uk/binaries/content/gallery/icons/play-circle.svg?colour=231f20\" alt=\"\" style=\"object-fit:fill\">\n                </picture>\n            </figure>\n        </div>\n        <div class=\"nhsd-m-emphasis-box__content-box\">\n            <div data-uipath=\"website.contentblock.emphasis.content\" class=\"nhsd-t-word-break\"><p class=\"nhsd-t-body\">To get started, sign in or create a <a href=\"https://onboarding.prod.api.platform.nhs.uk/\">developer account</a>, then select 'product onboarding'.</p></div>            \n        </div>\n    </div>\n</div> \n\n## Errors\nWe use standard HTTP status codes to show whether an API request succeeded or not. They are usually in the range:\n\n* 200 to 299 if it succeeded, including code 202 if it was accepted by an API that needs to wait for further action\n* 400 to 499 if it failed because of a client error by your application\n* 500 to 599 if it failed because of an error on our server\n\nErrors specific to each API are shown in the Endpoints section, under Response. See our [reference guide](https://digital.nhs.uk/developer/guides-and-documentation/reference-guide#http-status-codes) for more on errors.\n\n## Using this API\nTo check if a Reasonable Adjustment Flag exists:\n - get consent details - if they exist, the overall record exists\n\nTo get a Reasonable Adjustment Flag:\n - get consent details\n - get reasonable adjustment details - which might not exist\n - get impairments - which might not exist\n\nTo create a Reasonable Adjustment Flag:\n - add consent details - doing this also creates the overall record\n - optionally, add reasonable adjustments\n - optionally, add impairments\n\nTo update a Reasonable Adjustment Flag:\n - get the relevant part(s) of the record first - you’ll need the version number for the update\n - update consent details, reasonable adjustments or impairments as appropriate\n\nTo remove a Reasonable Adjustment Flag:\n - remove Reasonable Adjustment Flag record - this single operation will remove the record in its entirety",
        "title": "Reasonable Adjustment Flag API",
        "version": "0.3.4-beta"
    },
    "openapi": "3.0.0",
    "paths": {
        "/$removerarecord": {
            "post": {
                "description": "## Overview\nUse this endpoint to remove a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) from the [NHS Spine](https://digital.nhs.uk/services/spine).  To remove a flag you must provide a reason for it being removed, for example the flag may have been created in error, or the flag may no longer apply to the patient. \n\nFor a patient it is represented as [CodeSystem-RARecord-RemovalReason-1](https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1). This triggers the system to inactivate all Reasonable Adjustment Flag resources contained within the patient record.\n",
                "operationId": "removeRecord",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\nSend the value of the patient's `ETag` response header on patient retrieval when updating a patient.\nThis is to ensure that any updates are applied against an up-to-date version of the patient resource.\n",
                        "in": "header",
                        "name": "If-Match",
                        "required": true,
                        "schema": {
                            "example": "W/\"2\"",
                            "pattern": "^W/\"[0-9]+\"$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "parameter": [
                                    {
                                        "name": "removeRARecord",
                                        "part": [
                                            {
                                                "name": "nhsNumber",
                                                "valueString": "5900026175"
                                            },
                                            {
                                                "name": "removalReason",
                                                "valueCodeableConcept": {
                                                    "coding": [
                                                        {
                                                            "code": "DoesntApply",
                                                            "display": "The Reasonable Adjustment Flag no longer applies to the patient",
                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "name": "supportingComment",
                                                "valueString": "No longer applies"
                                            }
                                        ]
                                    }
                                ],
                                "resourceType": "Parameters"
                            },
                            "schema": {
                                "description": "A container for a remove RA record request.",
                                "properties": {
                                    "parameter": {
                                        "description": "A parameter in a bundle resource - will either contain a resource or information about a resource (transactions and history only).",
                                        "items": {
                                            "properties": {
                                                "name": {
                                                    "description": "Name of parameter",
                                                    "example": "removerarecord",
                                                    "type": "string"
                                                },
                                                "part": {
                                                    "description": "A list of parameters parts.",
                                                    "items": {
                                                        "anyOf": [
                                                            {
                                                                "properties": {
                                                                    "name": {
                                                                        "example": "nhsNumber",
                                                                        "type": "string"
                                                                    },
                                                                    "valueString": {
                                                                        "example": "999999998",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            {
                                                                "properties": {
                                                                    "name": {
                                                                        "example": "removalReason",
                                                                        "type": "string"
                                                                    },
                                                                    "valueCodeableConcept": {
                                                                        "properties": {
                                                                            "coding": {
                                                                                "items": {
                                                                                    "properties": {
                                                                                        "code": {
                                                                                            "example": "DoesntApply",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "display": {
                                                                                            "example": "The Reasonable Adjustment Flag no longer applies to the patient",
                                                                                            "type": "string"
                                                                                        },
                                                                                        "system": {
                                                                                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1",
                                                                                            "type": "string"
                                                                                        }
                                                                                    },
                                                                                    "type": "object"
                                                                                },
                                                                                "type": "array"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            {
                                                                "properties": {
                                                                    "name": {
                                                                        "example": "supportingComment",
                                                                        "type": "string"
                                                                    },
                                                                    "valueString": {
                                                                        "example": "No longer applies",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        ]
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "required": [
                                                "name",
                                                "part"
                                            ],
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "resourceType": {
                                        "description": "FHIR Resource type.",
                                        "enum": [
                                            "Parameters"
                                        ],
                                        "example": "Parameters",
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "resourceType",
                                    "parameter"
                                ],
                                "type": "object"
                            }
                        }
                    },
                    "description": "Remove Reasonable Adjustment Flag record",
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "id": "89842084-66c6-4b3c-9eb2-63d43e5ab074",
                                    "issue": [
                                        {
                                            "code": "informational",
                                            "details": {
                                                "text": "OK"
                                            },
                                            "severity": "information"
                                        }
                                    ],
                                    "meta": {
                                        "profile": "https://fhir.nhs.uk/STU3/StructureDefinition/Spine-OperationOutcome-1"
                                    },
                                    "resourceType": "OperationOutcome"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n  \n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Remove Reasonable Adjustment Flag record"
            }
        },
        "/Consent": {
            "get": {
                "description": "## Overview\nUse this endpoint to read details regarding the patient's consent to share a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) record, as well as how this was obtained. Consent may have been given by the patient or via a 'best interest decision' under the [Mental Capacity Act (2005)](https://www.nhs.uk/conditions/social-care-and-support-guide/making-decisions-for-someone-else/mental-capacity-act/). In some cases consent can also be obtained from a lasting power of attorney for health and welfare, or a court appointed deputy. Consent is usually obtained by a suitable member of staff discussing the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) with the patient, their carer or the appropriate patient representative. The member of staff will then record the type of consent captured, along with some free text details providing more information about who provided the consent.\n\nFor full details of this API resource see [RARecord-Consent-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1)",
                "operationId": "readConsent",
                "parameters": [
                    {
                        "description": "The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS number](https://datadictionary.nhs.uk/attributes/nhs_number.html).",
                        "in": "query",
                        "name": "patient",
                        "required": true,
                        "schema": {
                            "example": "5900026175",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The status of the patient resource. Active or Inactive.",
                        "in": "query",
                        "name": "status",
                        "required": true,
                        "schema": {
                            "example": "active",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The category of the resource being interacted with.",
                        "in": "query",
                        "name": "category",
                        "required": true,
                        "schema": {
                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF",
                            "type": "string"
                        }
                    },
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "entry": [
                                        {
                                            "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/Consent/5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65",
                                            "resource": {
                                                "category": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "NRAF",
                                                                "display": "National Reasonable Adjustments Flag",
                                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "contained": [
                                                    {
                                                        "agent": [
                                                            {
                                                                "onBehalfOfReference": {
                                                                    "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                },
                                                                "role": [
                                                                    {
                                                                        "coding": [
                                                                            {
                                                                                "code": "R0050",
                                                                                "display": "Consultant",
                                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                            }
                                                                        ]
                                                                    }
                                                                ],
                                                                "whoReference": {
                                                                    "display": "Healthchecks,Morning",
                                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                }
                                                            }
                                                        ],
                                                        "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                        "meta": {
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                            ]
                                                        },
                                                        "recorded": "2021-03-17T15:52:14+00:00",
                                                        "resourceType": "Provenance",
                                                        "target": [
                                                            {
                                                                "reference": "Consent/5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "extension": [
                                                    {
                                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-ProxyRole-1",
                                                        "valueCodeableConcept": {
                                                            "coding": [
                                                                {
                                                                    "code": "001",
                                                                    "display": "Patient consent",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ProxyRole-1"
                                                                }
                                                            ]
                                                        }
                                                    },
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "Created",
                                                                "valueReference": {
                                                                    "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                }
                                                            }
                                                        ],
                                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                    }
                                                ],
                                                "id": "5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65",
                                                "meta": {
                                                    "lastUpdated": "2021-03-17T15:52:14+00:00",
                                                    "profile": [
                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1"
                                                    ],
                                                    "versionId": "1"
                                                },
                                                "patient": {
                                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                },
                                                "policy": [
                                                    {
                                                        "authority": "https://www.gov.uk/",
                                                        "uri": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf"
                                                    }
                                                ],
                                                "purpose": [
                                                    {
                                                        "code": "RACONSENT",
                                                        "display": "Reasonable Adjustments - Consent to record Reasonable Adjustments",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentPurpose-1"
                                                    }
                                                ],
                                                "resourceType": "Consent",
                                                "status": "active"
                                            }
                                        }
                                    ],
                                    "id": "4e7f3f62-548b-450e-9630-da271dc9d084",
                                    "link": [
                                        {
                                            "relation": "self",
                                            "url": "https://internet_mps/STU3/Consent?category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active&patient=5900026175"
                                        }
                                    ],
                                    "meta": {
                                        "profile": [
                                            "http://hl7.org/fhir/bundle"
                                        ]
                                    },
                                    "resourceType": "Bundle",
                                    "total": 1,
                                    "type": "searchset"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Get consent details"
            },
            "post": {
                "description": "## Overview\nUse this endpoint to create a Reasonable Adjustment Flag for a patient and add details regarding the patient's consent to share it, as well as how this was obtained.\n\nFor full details of the request payload for this endpoint, see [RARecord-Consent-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1).",
                "operationId": "postConsent",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "category": [
                                    {
                                        "coding": [
                                            {
                                                "code": "NRAF",
                                                "display": "Reasonable Adjustments Flag",
                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                            }
                                        ]
                                    }
                                ],
                                "extension": [
                                    {
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-ProxyRole-1",
                                        "valueCodeableConcept": {
                                            "coding": [
                                                {
                                                    "code": "003",
                                                    "display": "Lasting power of attorney for health and welfare, or court-appointed deputy, or equivalent",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ProxyRole-1"
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "meta": {
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1"
                                    ]
                                },
                                "patient": {
                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                },
                                "policy": [
                                    {
                                        "authority": "https://www.gov.uk/",
                                        "uri": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf"
                                    }
                                ],
                                "purpose": [
                                    {
                                        "code": "RACONSENT",
                                        "display": "Reasonable Adjustments - Consent to record Reasonable Adjustments",
                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentPurpose-1"
                                    }
                                ],
                                "resourceType": "Consent",
                                "status": "active"
                            },
                            "schema": {
                                "properties": {
                                    "category": {
                                        "items": {
                                            "properties": {
                                                "coding": {
                                                    "items": {
                                                        "properties": {
                                                            "code": {
                                                                "example": "NRAF",
                                                                "type": "string"
                                                            },
                                                            "display": {
                                                                "example": "National Reasonable Adjustments Flag",
                                                                "type": "string"
                                                            },
                                                            "system": {
                                                                "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "extension": {
                                        "items": {
                                            "properties": {
                                                "url": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-ProxyRole-1",
                                                    "type": "string"
                                                },
                                                "valueCodeableConcept": {
                                                    "properties": {
                                                        "coding": {
                                                            "items": {
                                                                "properties": {
                                                                    "code": {
                                                                        "example": "003",
                                                                        "type": "string"
                                                                    },
                                                                    "display": {
                                                                        "example": "Lasting power of attorney for health and welfare, or court-appointed deputy, or equivalent",
                                                                        "type": "string"
                                                                    },
                                                                    "system": {
                                                                        "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ProxyRole-1",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "meta": {
                                        "properties": {
                                            "profile": {
                                                "items": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1",
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "patient": {
                                        "properties": {
                                            "reference": {
                                                "example": "demographics.spineservices.nhs.uk/STU3/Patient/999999998",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "policy": {
                                        "items": {
                                            "properties": {
                                                "authority": {
                                                    "example": "https://www.gov.uk/",
                                                    "type": "string"
                                                },
                                                "uri": {
                                                    "example": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf",
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "purpose": {
                                        "items": {
                                            "properties": {
                                                "code": {
                                                    "example": "370856009",
                                                    "type": "string"
                                                },
                                                "display": {
                                                    "example": "Limiting access to confidential patient information",
                                                    "type": "string"
                                                },
                                                "system": {
                                                    "example": "https://snomed.info/sct",
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "resourceType": {
                                        "example": "Consent",
                                        "type": "string"
                                    },
                                    "status": {
                                        "example": "active",
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "description": "Create consent",
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "category": [
                                        {
                                            "coding": [
                                                {
                                                    "code": "NRAF",
                                                    "display": "National Reasonable Adjustments Flag",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                }
                                            ]
                                        }
                                    ],
                                    "contained": [
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-17T15:52:14+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Consent/5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65"
                                                }
                                            ]
                                        }
                                    ],
                                    "extension": [
                                        {
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-ProxyRole-1",
                                            "valueCodeableConcept": {
                                                "coding": [
                                                    {
                                                        "code": "001",
                                                        "display": "Patient consent",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ProxyRole-1"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        }
                                    ],
                                    "id": "5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65",
                                    "meta": {
                                        "lastUpdated": "2021-03-17T15:52:14+00:00",
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1"
                                        ],
                                        "versionId": "1"
                                    },
                                    "patient": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    },
                                    "policy": [
                                        {
                                            "authority": "https://www.gov.uk/",
                                            "uri": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf"
                                        }
                                    ],
                                    "purpose": [
                                        {
                                            "code": "RACONSENT",
                                            "display": "Reasonable Adjustments - Consent to record Reasonable Adjustments",
                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentPurpose-1"
                                        }
                                    ],
                                    "resourceType": "Consent",
                                    "status": "active"
                                }
                            }
                        },
                        "description": "Reasonable Adjustment Flag created and consent details added.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "Location": {
                                "description": "The location of the resource.",
                                "schema": {
                                    "example": "https://clinicals.spineservices.nhs.uk/STU3/[type]/[id]/_history/[vid]",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it.|\t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Create Flag and add consent details"
            }
        },
        "/Consent/{consentID}": {
            "put": {
                "description": "## Overview\nUse this endpoint to update details regarding the patient's consent to share a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) record, as well as how this was obtained. Consent may have been given by the patient or via a 'best interest decision' under the [Mental Capacity Act (2005)](https://www.nhs.uk/conditions/social-care-and-support-guide/making-decisions-for-someone-else/mental-capacity-act/). In some cases consent can also be obtained from a lasting power of attorney for health and welfare, or a court appointed deputy. Consent is usually obtained by a suitable member of staff discussing the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) with the patient, their carer or the appropriate patient representative. The member of staff will then record the type of consent captured, along with some free text details providing more information about who provided the consent.\n\nFor full details of this API resource see [RARecord-Consent-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1)",
                "operationId": "updateConsent",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The id of the record. To retrieve the consentID, you need to do a GET /Consent first. The successful response from GET /Consent endpoint contains the consentID. See the example of successful response in [Get consent details](https://digital.nhs.uk/developer/api-catalogue/reasonable-adjustment-flag-fhir#api-Endpoints-readConsent) section. See the example below to know the consentID from that response.",
                        "in": "path",
                        "name": "consentID",
                        "required": true,
                        "schema": {
                            "example": "5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\nSend the value of the patient's `ETag` response header on patient retrieval when updating a patient.\nThis is to ensure that any updates are applied against an up-to-date version of the patient resource.\n",
                        "in": "header",
                        "name": "If-Match",
                        "required": true,
                        "schema": {
                            "example": "W/\"2\"",
                            "pattern": "^W/\"[0-9]+\"$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "category": [
                                    {
                                        "coding": [
                                            {
                                                "code": "NRAF",
                                                "display": "Reasonable Adjustments Flag",
                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                            }
                                        ]
                                    }
                                ],
                                "contained": [
                                    {
                                        "agent": [
                                            {
                                                "onBehalfOfReference": {
                                                    "display": "Some Hospital Learning Disability Support Department",
                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7"
                                                },
                                                "role": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "R1974",
                                                                "display": "Community Learning Disabilities Nurse",
                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "whoReference": {
                                                    "display": "Nurse N",
                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/4tr6ee6a9"
                                                }
                                            }
                                        ],
                                        "id": "43124f67-b09d-453d-b889-a5e2e8780b9e",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                            ]
                                        },
                                        "recorded": "2018-07-24T10:05:33+00:00",
                                        "resourceType": "Provenance",
                                        "target": [
                                            {
                                                "reference": "Consent/2acb0536-0a8f-48c9-8a2f-6ee82860f186"
                                            }
                                        ]
                                    }
                                ],
                                "extension": [
                                    {
                                        "extension": [
                                            {
                                                "url": "created",
                                                "valueReference": {
                                                    "reference": "#43124f67-b09d-453d-b889-a5e2e8780b9e"
                                                }
                                            }
                                        ],
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                    },
                                    {
                                        "extension": [
                                            {
                                                "url": "removalReason",
                                                "valueCodeableConcept": {
                                                    "coding": [
                                                        {
                                                            "code": "Error",
                                                            "display": "The Reasonable Adjustment Consent was created in error",
                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "url": "supportingComment",
                                                "valueString": "Requires Large Print rather than Easy Read"
                                            }
                                        ],
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                    },
                                    {
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                        "valueCodeableConcept": {
                                            "coding": [
                                                {
                                                    "code": "001",
                                                    "display": "Communication support",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "id": "2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                "meta": {
                                    "lastUpdated": "2018-07-24T10:01:00+00:00",
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1"
                                    ],
                                    "versionId": "aa755bd6-2be9-4971-972a-6724879c5cb1"
                                },
                                "patient": {
                                    "reference": "demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                },
                                "policy": [
                                    {
                                        "authority": "https://www.gov.uk/",
                                        "uri": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf"
                                    }
                                ],
                                "purpose": [
                                    {
                                        "code": "RACONSENT",
                                        "display": "Reasonable Adjustments - Consent to record Reasonable Adjustments",
                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentPurpose-1"
                                    }
                                ],
                                "resourceType": "Consent",
                                "status": "inactive"
                            },
                            "schema": {
                                "properties": {
                                    "category": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "reasonable adjustment Consent",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Reasonable Adjustment Consent",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentCategory-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "code": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "796161000000101",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Requires information in Easyread",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://snomed.info/sct",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "contained": {
                                        "items": {
                                            "properties": {
                                                "agent": {
                                                    "items": {
                                                        "properties": {
                                                            "onBehalfOfResource": {
                                                                "properties": {
                                                                    "display": {
                                                                        "example": "Some Hospital Learning Disability Support Department",
                                                                        "type": "string"
                                                                    },
                                                                    "reference": {
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "role": {
                                                                "items": {
                                                                    "properties": {
                                                                        "coding": {
                                                                            "items": {
                                                                                "properties": {
                                                                                    "code": {
                                                                                        "example": "R1974",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "display": {
                                                                                        "example": "Community Learning Disabilities Nurse",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "system": {
                                                                                        "example": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            },
                                                            "whoReference": {
                                                                "properties": {
                                                                    "display": {
                                                                        "example": "Nurse N",
                                                                        "type": "string"
                                                                    },
                                                                    "reference": {
                                                                        "example": "https://sds.spineservices.nhs.uk/STU3/Practitioner/4tr6ee6a9",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "id": {
                                                    "example": "43124f67-b09d-453d-b889-a5e2e8780b9e",
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "properties": {
                                                        "profile": {
                                                            "items": {
                                                                "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1",
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recorded": {
                                                    "example": "2018-07-24T10:05:33+00:00",
                                                    "type": "string"
                                                },
                                                "resourceType": {
                                                    "example": "Provenance",
                                                    "type": "string"
                                                },
                                                "target": {
                                                    "items": {
                                                        "properties": {
                                                            "reference": {
                                                                "example": "Consent/2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "extension": {
                                        "items": {
                                            "anyOf": [
                                                {
                                                    "properties": {
                                                        "extension": {
                                                            "items": {
                                                                "properties": {
                                                                    "url": {
                                                                        "example": "created",
                                                                        "type": "string"
                                                                    },
                                                                    "valueReference": {
                                                                        "properties": {
                                                                            "reference": {
                                                                                "example": "#43124f67-b09d-453d-b889-a5e2e8780b9e",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                {
                                                    "properties": {
                                                        "extension": {
                                                            "items": {
                                                                "anyOf": [
                                                                    {
                                                                        "properties": {
                                                                            "url": {
                                                                                "example": "removalReason",
                                                                                "type": "string"
                                                                            },
                                                                            "valueCodeableConcept": {
                                                                                "properties": {
                                                                                    "coding": {
                                                                                        "items": {
                                                                                            "properties": {
                                                                                                "code": {
                                                                                                    "example": "Error",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "display": {
                                                                                                    "example": "The Reasonable Adjustment Flag was created in error",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "system": {
                                                                                                    "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "type": "object"
                                                                                        },
                                                                                        "type": "array"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    },
                                                                    {
                                                                        "properties": {
                                                                            "url": {
                                                                                "example": "supportingComment",
                                                                                "type": "string"
                                                                            },
                                                                            "valueString": {
                                                                                "example": "Requires Large Print rather than Easy Read",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                ]
                                                            },
                                                            "type": "array"
                                                        },
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                {
                                                    "properties": {
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                            "type": "string"
                                                        },
                                                        "valueCodeableConcept": {
                                                            "properties": {
                                                                "coding": {
                                                                    "items": {
                                                                        "properties": {
                                                                            "code": {
                                                                                "example": "001",
                                                                                "type": "string"
                                                                            },
                                                                            "display": {
                                                                                "example": "Communication support",
                                                                                "type": "string"
                                                                            },
                                                                            "system": {
                                                                                "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            ]
                                        },
                                        "type": "array"
                                    },
                                    "id": {
                                        "example": "2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                        "type": "string"
                                    },
                                    "meta": {
                                        "properties": {
                                            "lastUpdated": {
                                                "example": "2018-07-24T10:01:00+00:00",
                                                "type": "string"
                                            },
                                            "profile": {
                                                "items": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1",
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            },
                                            "versionId": {
                                                "example": "aa755bd6-2be9-4971-972a-6724879c5cb1",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "resourceType": {
                                        "example": "Consent",
                                        "type": "string"
                                    },
                                    "status": {
                                        "example": "inactive",
                                        "type": "string"
                                    },
                                    "subject": {
                                        "properties": {
                                            "reference": {
                                                "example": "demographics.spineservices.nhs.uk/STU3/Patient/999999998",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "description": "Update record",
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "category": [
                                        {
                                            "coding": [
                                                {
                                                    "code": "NRAF",
                                                    "display": "National Reasonable Adjustments Flag",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                }
                                            ]
                                        }
                                    ],
                                    "contained": [
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-17T15:52:14+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Consent/5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-17T15:52:14+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Consent/5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65"
                                                }
                                            ]
                                        }
                                    ],
                                    "extension": [
                                        {
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-ProxyRole-1",
                                            "valueCodeableConcept": {
                                                "coding": [
                                                    {
                                                        "code": "001",
                                                        "display": "Patient consent",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ProxyRole-1"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "removalReason",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "Error",
                                                                "display": "The Reasonable Adjustment Flag was created in error",
                                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "supportingComment",
                                                    "valueString": "Requires Large Print rather than Easy Read"
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                },
                                                {
                                                    "url": "Updated",
                                                    "valueReference": {
                                                        "reference": "fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        }
                                    ],
                                    "id": "5900026175.11eccc9b-4a6f-4467-a76b-1b8a82bafd65",
                                    "meta": {
                                        "lastUpdated": "2021-03-17T15:52:14+00:00",
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Consent-1"
                                        ],
                                        "versionId": "2"
                                    },
                                    "patient": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    },
                                    "policy": [
                                        {
                                            "authority": "https://www.gov.uk/",
                                            "uri": "https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/535024/data-security-review.pdf"
                                        }
                                    ],
                                    "purpose": [
                                        {
                                            "code": "RACONSENT",
                                            "display": "Reasonable Adjustments - Consent to record Reasonable Adjustments",
                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConsentPurpose-1"
                                        }
                                    ],
                                    "resourceType": "Consent",
                                    "status": "inactive"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Update consent details"
            }
        },
        "/Flag": {
            "get": {
                "description": "## Overview\nUse this endpoint to view a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine). This will describe the adjustment that the patient needs and will either be a coded national adjustment as defined by [SNOMED CT](https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct), or an adjustment which has been manually keyed by a clinician. To find out more about the different types of adjustments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\n\nFor full details of this API resource see [RARecord-Flag-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1/_history/0.0.5).",
                "operationId": "readFlag",
                "parameters": [
                    {
                        "description": "The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS number](https://datadictionary.nhs.uk/attributes/nhs_number.html).",
                        "in": "query",
                        "name": "patient",
                        "required": true,
                        "schema": {
                            "example": "5900026175",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The status of the patient resource. Active or Inactive.",
                        "in": "query",
                        "name": "status",
                        "required": true,
                        "schema": {
                            "example": "active",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The category of the resource being interacted with.",
                        "in": "query",
                        "name": "category",
                        "required": true,
                        "schema": {
                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF",
                            "type": "string"
                        }
                    },
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "0 flags": {
                                        "summary": "The response from a successful request (0 flags).",
                                        "value": {
                                            "id": "30e9a5d5-c037-42ed-9ee4-476add4d6b43",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://clinicals.spineservices.nhs.uk/STU3/Flag?patient=999999998&status=active&category=https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 0,
                                            "type": "searchset"
                                        }
                                    },
                                    "1 flag": {
                                        "summary": "The response from a successful request (1 flag).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Flag",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:45:02+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "Flag",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "6671bd5f-5f4e-4def-992f-71f8df34b063",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/Flag?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 1,
                                            "type": "searchset"
                                        }
                                    },
                                    "2 flags": {
                                        "summary": "The response from a successful request (2 flags).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/Flag/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Flag",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "367741000000102",
                                                                    "display": "Requires information verbally",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "004",
                                                                            "display": "Requires specific information format",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:28+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "Flag",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                },
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/Flag/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Flag",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "Flag/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:37+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "Flag",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "09be8716-5bef-4a68-bcba-a692669b31c6",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/Flag?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 2,
                                            "type": "searchset"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Get reasonable adjustments"
            },
            "post": {
                "description": "## Overview\nUse this endpoint to create a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine). This will describe the adjustment that the patient needs and will either be a coded national adjustment as defined by [SNOMED CT](https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct), or an adjustment which has been manually keyed by a clinician. To find out more about the different types of adjustments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\n\nFor full details of this API resource see [RARecord-Flag-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1/_history/0.0.5).",
                "operationId": "postFlag",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "category": {
                                    "coding": [
                                        {
                                            "code": "NRAF",
                                            "display": "Reasonable Adjustments Flag",
                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                        }
                                    ]
                                },
                                "code": {
                                    "coding": [
                                        {
                                            "code": "945951000000108",
                                            "display": "Requires information in Easyread",
                                            "system": "https://snomed.info/sct"
                                        }
                                    ]
                                },
                                "extension": [
                                    {
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                        "valueCodeableConcept": {
                                            "coding": [
                                                {
                                                    "code": "003",
                                                    "display": "Requires specific contact method",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "meta": {
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                    ]
                                },
                                "resourceType": "Flag",
                                "status": "active",
                                "subject": {
                                    "reference": "demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                }
                            },
                            "schema": {
                                "properties": {
                                    "category": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "NRAF",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "National Reasonable Adjustments Flag",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "code": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "796161000000101",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Requires information in Easyread",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://snomed.info/sct",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "extension": {
                                        "items": {
                                            "properties": {
                                                "url": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                    "type": "string"
                                                },
                                                "valueCodeableConcept": {
                                                    "properties": {
                                                        "coding": {
                                                            "items": {
                                                                "properties": {
                                                                    "code": {
                                                                        "example": "001",
                                                                        "type": "string"
                                                                    },
                                                                    "display": {
                                                                        "example": "Communication support",
                                                                        "type": "string"
                                                                    },
                                                                    "system": {
                                                                        "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "meta": {
                                        "properties": {
                                            "profile": {
                                                "items": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1",
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "resourceType": {
                                        "example": "Flag",
                                        "type": "string"
                                    },
                                    "status": {
                                        "example": "active",
                                        "type": "string"
                                    },
                                    "subject": {
                                        "properties": {
                                            "reference": {
                                                "example": "demographics.spineservices.nhs.uk/STU3/Patient/999999998",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "description": "Create flag",
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "category": {
                                        "coding": [
                                            {
                                                "code": "NRAF",
                                                "display": "National Reasonable Adjustments Flag",
                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                            }
                                        ]
                                    },
                                    "code": {
                                        "coding": [
                                            {
                                                "code": "945951000000108",
                                                "display": "Requires visual alert",
                                                "system": "https://snomed.info/sct"
                                            }
                                        ]
                                    },
                                    "contained": [
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        }
                                    ],
                                    "extension": [
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        },
                                        {
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                            "valueCodeableConcept": {
                                                "coding": [
                                                    {
                                                        "code": "003",
                                                        "display": "Requires specific contact method",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        }
                                    ],
                                    "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                    "meta": {
                                        "lastUpdated": "2021-03-18T14:45:02+00:00",
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                        ],
                                        "versionId": "1"
                                    },
                                    "resourceType": "Flag",
                                    "status": "active",
                                    "subject": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "Location": {
                                "description": "The location of the resource.",
                                "schema": {
                                    "example": "https://clinicals.spineservices.nhs.uk/STU3/[type]/[id]/_history/[vid]",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n                  \n"
                    }
                },
                "summary": "Add reasonable adjustments"
            }
        },
        "/Flag/{flagID}": {
            "put": {
                "description": "## Overview\nUse this endpoint to update a [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine). This will describe the adjustment that the patient needs and will either be a coded national adjustment as defined by [SNOMED CT](https://digital.nhs.uk/services/terminology-and-classifications/snomed-ct), or an adjustment which has been manually keyed by a clinician. You can also use this endpoint to delete an existing adjustment. To find out more about the different types of adjustments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\n\nFor full details of this API resource see [RARecord-Flag-1](https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1/_history/0.0.5).",
                "operationId": "updateFlag",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\nSend the value of the patient's `ETag` response header on patient retrieval when updating a patient.\nThis is to ensure that any updates are applied against an up-to-date version of the patient resource.\n",
                        "in": "header",
                        "name": "If-Match",
                        "required": true,
                        "schema": {
                            "example": "W/\"2\"",
                            "pattern": "^W/\"[0-9]+\"$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The id of the flag. To retrieve the flagID, you need to do a GET /Flag first. The successful response from GET /Flag endpoint contains the flagID. See the example of successful response in [Get reasonable adjustments](https://digital.nhs.uk/developer/api-catalogue/reasonable-adjustment-flag-fhir#api-Endpoints-readFlag) section. See the example below to know the flagID from that response.",
                        "in": "path",
                        "name": "flagID",
                        "required": true,
                        "schema": {
                            "example": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "category": {
                                    "coding": [
                                        {
                                            "code": "NRAF",
                                            "display": "Reasonable Adjustments Flag",
                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                        }
                                    ]
                                },
                                "code": {
                                    "coding": [
                                        {
                                            "code": "945951000000108",
                                            "display": "Requires information in Easyread",
                                            "system": "https://snomed.info/sct"
                                        }
                                    ]
                                },
                                "contained": [
                                    {
                                        "agent": [
                                            {
                                                "onBehalfOfReference": {
                                                    "display": "Some Hospital Learning Disability Support Department",
                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7"
                                                },
                                                "role": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "R1974",
                                                                "display": "Community Learning Disabilities Nurse",
                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "whoReference": {
                                                    "display": "Nurse N",
                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/4tr6ee6a9"
                                                }
                                            }
                                        ],
                                        "id": "43124f67-b09d-453d-b889-a5e2e8780b9e",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                            ]
                                        },
                                        "recorded": "2018-07-24T10:05:33+00:00",
                                        "resourceType": "Provenance",
                                        "target": [
                                            {
                                                "reference": "Flag/2acb0536-0a8f-48c9-8a2f-6ee82860f186"
                                            }
                                        ]
                                    }
                                ],
                                "extension": [
                                    {
                                        "extension": [
                                            {
                                                "url": "created",
                                                "valueReference": {
                                                    "reference": "#43124f67-b09d-453d-b889-a5e2e8780b9e"
                                                }
                                            }
                                        ],
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                    },
                                    {
                                        "extension": [
                                            {
                                                "url": "removalReason",
                                                "valueCodeableConcept": {
                                                    "coding": [
                                                        {
                                                            "code": "Error",
                                                            "display": "The Reasonable Adjustment Flag was created in error",
                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "url": "supportingComment",
                                                "valueString": "Requires Large Print rather than Easy Read"
                                            }
                                        ],
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                    },
                                    {
                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                        "valueCodeableConcept": {
                                            "coding": [
                                                {
                                                    "code": "003",
                                                    "display": "Requires specific contact method",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                }
                                            ]
                                        }
                                    }
                                ],
                                "id": "2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                "meta": {
                                    "lastUpdated": "2018-07-24T10:01:00+00:00",
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                    ],
                                    "versionId": "aa755bd6-2be9-4971-972a-6724879c5cb1"
                                },
                                "resourceType": "Flag",
                                "status": "inactive",
                                "subject": {
                                    "reference": "demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                }
                            },
                            "schema": {
                                "properties": {
                                    "category": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "NRAF",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "National Reasonable Adjustments Flag",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "code": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "796161000000101",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Requires information in Easyread",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://snomed.info/sct",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "contained": {
                                        "items": {
                                            "properties": {
                                                "agent": {
                                                    "items": {
                                                        "properties": {
                                                            "onBehalfOfResource": {
                                                                "properties": {
                                                                    "display": {
                                                                        "example": "Some Hospital Learning Disability Support Department",
                                                                        "type": "string"
                                                                    },
                                                                    "reference": {
                                                                        "example": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "role": {
                                                                "items": {
                                                                    "properties": {
                                                                        "coding": {
                                                                            "items": {
                                                                                "properties": {
                                                                                    "code": {
                                                                                        "example": "R1974",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "display": {
                                                                                        "example": "Community Learning Disabilities Nurse",
                                                                                        "type": "string"
                                                                                    },
                                                                                    "system": {
                                                                                        "example": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1",
                                                                                        "type": "string"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            },
                                                                            "type": "array"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            },
                                                            "whoReference": {
                                                                "properties": {
                                                                    "display": {
                                                                        "example": "Nurse N",
                                                                        "type": "string"
                                                                    },
                                                                    "reference": {
                                                                        "example": "https://sds.spineservices.nhs.uk/STU3/Practitioner/4tr6ee6a9",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                },
                                                "id": {
                                                    "example": "43124f67-b09d-453d-b889-a5e2e8780b9e",
                                                    "type": "string"
                                                },
                                                "meta": {
                                                    "properties": {
                                                        "profile": {
                                                            "items": {
                                                                "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1",
                                                                "type": "string"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recorded": {
                                                    "example": "2018-07-24T10:05:33+00:00",
                                                    "type": "string"
                                                },
                                                "resourceType": {
                                                    "example": "Provenance",
                                                    "type": "string"
                                                },
                                                "target": {
                                                    "items": {
                                                        "properties": {
                                                            "reference": {
                                                                "example": "Flag/2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                                                "type": "string"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "type": "array"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "extension": {
                                        "items": {
                                            "anyOf": [
                                                {
                                                    "properties": {
                                                        "extension": {
                                                            "items": {
                                                                "properties": {
                                                                    "url": {
                                                                        "example": "created",
                                                                        "type": "string"
                                                                    },
                                                                    "valueReference": {
                                                                        "properties": {
                                                                            "reference": {
                                                                                "example": "#43124f67-b09d-453d-b889-a5e2e8780b9e",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        },
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                {
                                                    "properties": {
                                                        "extension": {
                                                            "items": {
                                                                "anyOf": [
                                                                    {
                                                                        "properties": {
                                                                            "url": {
                                                                                "example": "removalReason",
                                                                                "type": "string"
                                                                            },
                                                                            "valueCodeableConcept": {
                                                                                "properties": {
                                                                                    "coding": {
                                                                                        "items": {
                                                                                            "properties": {
                                                                                                "code": {
                                                                                                    "example": "Error",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "display": {
                                                                                                    "example": "The Reasonable Adjustment Flag was created in error",
                                                                                                    "type": "string"
                                                                                                },
                                                                                                "system": {
                                                                                                    "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1",
                                                                                                    "type": "string"
                                                                                                }
                                                                                            },
                                                                                            "type": "object"
                                                                                        },
                                                                                        "type": "array"
                                                                                    }
                                                                                },
                                                                                "type": "object"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    },
                                                                    {
                                                                        "properties": {
                                                                            "url": {
                                                                                "example": "supportingComment",
                                                                                "type": "string"
                                                                            },
                                                                            "valueString": {
                                                                                "example": "Requires Large Print rather than Easy Read",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    }
                                                                ]
                                                            },
                                                            "type": "array"
                                                        },
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                {
                                                    "properties": {
                                                        "url": {
                                                            "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                            "type": "string"
                                                        },
                                                        "valueCodeableConcept": {
                                                            "properties": {
                                                                "coding": {
                                                                    "items": {
                                                                        "properties": {
                                                                            "code": {
                                                                                "example": "001",
                                                                                "type": "string"
                                                                            },
                                                                            "display": {
                                                                                "example": "Communication support",
                                                                                "type": "string"
                                                                            },
                                                                            "system": {
                                                                                "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1",
                                                                                "type": "string"
                                                                            }
                                                                        },
                                                                        "type": "object"
                                                                    },
                                                                    "type": "array"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            ]
                                        },
                                        "type": "array"
                                    },
                                    "id": {
                                        "example": "2acb0536-0a8f-48c9-8a2f-6ee82860f186",
                                        "type": "string"
                                    },
                                    "meta": {
                                        "properties": {
                                            "lastUpdated": {
                                                "example": "2018-07-24T10:01:00+00:00",
                                                "type": "string"
                                            },
                                            "profile": {
                                                "items": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1",
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            },
                                            "versionId": {
                                                "example": "aa755bd6-2be9-4971-972a-6724879c5cb1",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "resourceType": {
                                        "example": "Flag",
                                        "type": "string"
                                    },
                                    "status": {
                                        "example": "inactive",
                                        "type": "string"
                                    },
                                    "subject": {
                                        "properties": {
                                            "reference": {
                                                "example": "demographics.spineservices.nhs.uk/STU3/Patient/999999998",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "description": "Update flag",
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/fhir+json": {
                                "example": {
                                    "category": {
                                        "coding": [
                                            {
                                                "code": "NRAF",
                                                "display": "National Reasonable Adjustments Flag",
                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                            }
                                        ]
                                    },
                                    "code": {
                                        "coding": [
                                            {
                                                "code": "945951000000108",
                                                "display": "Requires visual alert",
                                                "system": "https://snomed.info/sct"
                                            }
                                        ]
                                    },
                                    "contained": [
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Flag/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        }
                                    ],
                                    "extension": [
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                },
                                                {
                                                    "url": "Updated",
                                                    "valueReference": {
                                                        "reference": "fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        },
                                        {
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                            "valueCodeableConcept": {
                                                "coding": [
                                                    {
                                                        "code": "003",
                                                        "display": "Requires specific contact method",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "removalReason",
                                                    "valueCodeableConcept": {
                                                        "coding": [
                                                            {
                                                                "code": "Error",
                                                                "display": "The Reasonable Adjustment Flag was created in error",
                                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "url": "supportingComment",
                                                    "valueString": "Requires Large Print rather than Easy Read"
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                },
                                                {
                                                    "url": "Updated",
                                                    "valueReference": {
                                                        "reference": "fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        }
                                    ],
                                    "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                    "meta": {
                                        "lastUpdated": "2021-03-18T14:45:02+00:00",
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                        ],
                                        "versionId": "2"
                                    },
                                    "resourceType": "Flag",
                                    "status": "inactive",
                                    "subject": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "Content-Type": {
                                            "example": "application/fhir+json",
                                            "type": "string"
                                        },
                                        "Date": {
                                            "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                            "format": "date-time",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "CONFLICT"
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Update reasonable adjustments"
            }
        },
        "/List": {
            "get": {
                "description": "## Overview\nUse this endpoint to read a list of impairments held within the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) information stored on the [NHS Spine](https://digital.nhs.uk/services/spine). These impairments will likely have been captured during the discussion between the clinician and the patient or their carer. Patients may however decline to provide details of their impairments if they do not want to share them. To capture an impairment the member of staff selects an impairment type and then provides additional information using a free text field. For more details regards impairments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\nFor full details of this API resource see [CareConnect-RARecord-List-1](https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1)",
                "operationId": "readList",
                "parameters": [
                    {
                        "description": "The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS number](https://datadictionary.nhs.uk/attributes/nhs_number.html).",
                        "in": "query",
                        "name": "patient",
                        "required": true,
                        "schema": {
                            "example": "5900026175",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The status of the patient resource. Active or Inactive.",
                        "in": "query",
                        "name": "status",
                        "required": true,
                        "schema": {
                            "example": "active",
                            "type": "string"
                        }
                    },
                    {
                        "description": "code",
                        "in": "query",
                        "name": "code",
                        "required": true,
                        "schema": {
                            "example": "http://snomed.info/sct|1094391000000102&_format=json",
                            "type": "string"
                        }
                    },
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "entry": [
                                        {
                                            "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/List/5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                                            "resource": {
                                                "code": {
                                                    "coding": [
                                                        {
                                                            "code": "1094391000000102",
                                                            "display": "Reasonable adjustments for health and care access",
                                                            "system": "http://snomed.info/sct"
                                                        }
                                                    ]
                                                },
                                                "contained": [
                                                    {
                                                        "category": [
                                                            {
                                                                "coding": [
                                                                    {
                                                                        "code": "issue",
                                                                        "display": "Issue",
                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "clinicalStatus": "active",
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "9",
                                                                    "display": "Social or behavioural (for example associated with autism spectrum disorder (ASD) which includes Asperger’s, or attention deficit hyperactivity disorder (ADHD))",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConditionCode-1"
                                                                }
                                                            ]
                                                        },
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "created",
                                                                        "valueReference": {
                                                                            "reference": "Provenance/8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "57f04652-6dd0-4135-a560-f9091b1b26fa",
                                                        "meta": {
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-Condition-1"
                                                            ]
                                                        },
                                                        "note": [
                                                            {
                                                                "text": "Some notes"
                                                            }
                                                        ],
                                                        "resourceType": "Condition",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    },
                                                    {
                                                        "agent": [
                                                            {
                                                                "onBehalfOfReference": {
                                                                    "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                },
                                                                "role": [
                                                                    {
                                                                        "coding": [
                                                                            {
                                                                                "code": "R0050",
                                                                                "display": "Consultant",
                                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                            }
                                                                        ]
                                                                    }
                                                                ],
                                                                "whoReference": {
                                                                    "display": "Healthchecks,Morning",
                                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                }
                                                            }
                                                        ],
                                                        "id": "8ce7de6b-1307-432d-8e96-ae6a613ca3e4",
                                                        "meta": {
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                            ]
                                                        },
                                                        "recorded": "2021-03-17T16:07:48+00:00",
                                                        "resourceType": "Provenance",
                                                        "target": [
                                                            {
                                                                "reference": "Condition/57f04652-6dd0-4135-a560-f9091b1b26fa"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "date": "2018-07-23T11:00:00+00:00",
                                                "entry": [
                                                    {
                                                        "date": "2021-03-17T16:07:48+00:00",
                                                        "deleted": false,
                                                        "item": {
                                                            "reference": "#57f04652-6dd0-4135-a560-f9091b1b26fa"
                                                        }
                                                    },
                                                    {
                                                        "date": "2021-03-17T16:07:48+00:00",
                                                        "deleted": false,
                                                        "item": {
                                                            "reference": "#8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                        }
                                                    }
                                                ],
                                                "id": "5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                                                "meta": {
                                                    "profile": [
                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                                    ],
                                                    "versionId": "d5cd36dc-26c4-4bfb-8938-fdd368f67839"
                                                },
                                                "mode": "changes",
                                                "resourceType": "List",
                                                "status": "current",
                                                "subject": {
                                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                },
                                                "title": "Reasonable Adjustment List"
                                            }
                                        }
                                    ],
                                    "id": "7af059cb-c2a6-440d-9292-bed84ecc12bd",
                                    "link": [
                                        {
                                            "relation": "self",
                                            "url": "https://internet_mps/STU3/List?patient=5900026175&status=active&code=http%3A%2F%2Fsnomed.info%2Fsct%7C1094391000000102"
                                        }
                                    ],
                                    "meta": {
                                        "profile": [
                                            "http://hl7.org/fhir/bundle"
                                        ]
                                    },
                                    "resourceType": "Bundle",
                                    "total": 1,
                                    "type": "searchset"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Get impairments"
            },
            "post": {
                "description": "## Overview\nUse this endpoint to create a list of impairments held within the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) stored on the [NHS Spine](https://digital.nhs.uk/services/spine). These impairments will likely have been captured during the discussion between the clinician and the patient or their carer. Patients may however decline to provide details of their impairments if they do not want to share them. To capture an impairment the member of staff selects an impairment type and then provides additional information using a free text field. For more details regards impairments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\nFor full details of this API resource see [CareConnect-RARecord-List-1](https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1)",
                "operationId": "postList",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "code": {
                                    "coding": [
                                        {
                                            "code": "1094391000000102",
                                            "display": "Reasonable adjustments for health and care access",
                                            "system": "http://snomed.info/sct"
                                        }
                                    ]
                                },
                                "contained": [
                                    {
                                        "category": [
                                            {
                                                "coding": [
                                                    {
                                                        "code": "issue",
                                                        "display": "Issue",
                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                    }
                                                ]
                                            }
                                        ],
                                        "clinicalStatus": "active",
                                        "code": {
                                            "coding": [
                                                {
                                                    "code": "9",
                                                    "display": "Social or behavioural (for example associated with autism spectrum disorder (ASD) which includes Asperger’s, or attention deficit hyperactivity disorder (ADHD))",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConditionCode-1"
                                                }
                                            ]
                                        },
                                        "extension": [
                                            {
                                                "extension": [
                                                    {
                                                        "url": "created",
                                                        "valueReference": {
                                                            "reference": "Provenance/8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                        }
                                                    }
                                                ],
                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                            }
                                        ],
                                        "id": "57f04652-6dd0-4135-a560-f9091b1b26fa",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-Condition-1"
                                            ],
                                            "versionId": "557ccfc3-0c78-48bf-aedd-70cc08af2ba1"
                                        },
                                        "note": [
                                            {
                                                "text": "Some notes"
                                            }
                                        ],
                                        "resourceType": "Condition",
                                        "subject": {
                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                        }
                                    },
                                    {
                                        "activity": {
                                            "code": "CREATE",
                                            "display": "create",
                                            "system": "http://hl7.org/fhir/v3/DataOperation"
                                        },
                                        "agent": [
                                            {
                                                "onBehalfOfReference": {
                                                    "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                },
                                                "role": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "R0050",
                                                                "display": "Consultant",
                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "whoReference": {
                                                    "display": "Healthchecks,Morning",
                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                }
                                            }
                                        ],
                                        "id": "8ce7de6b-1307-432d-8e96-ae6a613ca3e4",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                            ]
                                        },
                                        "recorded": "2021-02-25T10:39:10+00:00",
                                        "resourceType": "Provenance",
                                        "target": [
                                            {
                                                "reference": "Condition/57f04652-6dd0-4135-a560-f9091b1b26fa"
                                            }
                                        ]
                                    }
                                ],
                                "date": "2018-07-23T11:00:00+00:00",
                                "entry": [
                                    {
                                        "date": "2021-02-25T10:39:10+00:00",
                                        "deleted": false,
                                        "item": {
                                            "reference": "#57f04652-6dd0-4135-a560-f9091b1b26fa"
                                        }
                                    },
                                    {
                                        "date": "2021-02-25T10:39:10+00:00",
                                        "deleted": false,
                                        "item": {
                                            "reference": "#8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                        }
                                    }
                                ],
                                "meta": {
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                    ],
                                    "versionId": "71502f39-cede-4c73-9545-57406beabebe"
                                },
                                "mode": "changes",
                                "resourceType": "List",
                                "status": "current",
                                "subject": {
                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                },
                                "title": "Reasonable Adjustment List"
                            },
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "description": "Create list",
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "code": {
                                        "coding": [
                                            {
                                                "code": "1094391000000102",
                                                "display": "Reasonable adjustments for health and care access",
                                                "system": "http://snomed.info/sct"
                                            }
                                        ]
                                    },
                                    "contained": [
                                        {
                                            "category": [
                                                {
                                                    "coding": [
                                                        {
                                                            "code": "issue",
                                                            "display": "Issue",
                                                            "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "clinicalStatus": "active",
                                            "code": {
                                                "coding": [
                                                    {
                                                        "code": "9",
                                                        "display": "Social or behavioural (for example associated with autism spectrum disorder (ASD) which includes Asperger’s, or attention deficit hyperactivity disorder (ADHD))",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConditionCode-1"
                                                    }
                                                ]
                                            },
                                            "extension": [
                                                {
                                                    "extension": [
                                                        {
                                                            "url": "created",
                                                            "valueReference": {
                                                                "reference": "Provenance/8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                            }
                                                        }
                                                    ],
                                                    "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                }
                                            ],
                                            "id": "57f04652-6dd0-4135-a560-f9091b1b26fa",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-Condition-1"
                                                ]
                                            },
                                            "note": [
                                                {
                                                    "text": "Some notes"
                                                }
                                            ],
                                            "resourceType": "Condition",
                                            "subject": {
                                                "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                            }
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "8ce7de6b-1307-432d-8e96-ae6a613ca3e4",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-17T16:07:48+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Condition/57f04652-6dd0-4135-a560-f9091b1b26fa"
                                                }
                                            ]
                                        }
                                    ],
                                    "date": "2018-07-23T11:00:00+00:00",
                                    "entry": [
                                        {
                                            "date": "2021-03-17T16:07:48+00:00",
                                            "deleted": false,
                                            "item": {
                                                "reference": "#57f04652-6dd0-4135-a560-f9091b1b26fa"
                                            }
                                        },
                                        {
                                            "date": "2021-03-17T16:07:48+00:00",
                                            "deleted": false,
                                            "item": {
                                                "reference": "#8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                            }
                                        }
                                    ],
                                    "id": "5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                                    "meta": {
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                        ],
                                        "versionId": "d5cd36dc-26c4-4bfb-8938-fdd368f67839"
                                    },
                                    "mode": "changes",
                                    "resourceType": "List",
                                    "status": "current",
                                    "subject": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    },
                                    "title": "Reasonable Adjustment List"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "Etag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "Location": {
                                "description": "The location of the resource.",
                                "schema": {
                                    "example": "https://clinicals.spineservices.nhs.uk/STU3/[type]/[id]/_history/[vid]",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Add impairments"
            }
        },
        "/List/{listID}": {
            "put": {
                "description": "## Overview\nUse this endpoint to update a list of impairments held within the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) information held on the [NHS Spine](https://digital.nhs.uk/services/spine). These impairments will likely have been captured during the discussion between the clinician and the patient or their carer. Patients may however decline to provide details of their impairments if they do not want to share them. To capture an impairment the member of staff selects an impairment type and then provides additional information using a free text field. For more details regards impairments see [How the Reasonable Adjustment Flag works](https://digital.nhs.uk/services/reasonable-adjustment-flag#how-the-reasonable-adjustment-flag-works).\n\nFor full details of this API resource see [CareConnect-RARecord-List-1](https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1)",
                "operationId": "updateList",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\nSend the value of the patient's `ETag` response header on patient retrieval when updating a patient.\nThis is to ensure that any updates are applied against an up-to-date version of the patient resource.\n",
                        "in": "header",
                        "name": "If-Match",
                        "required": true,
                        "schema": {
                            "example": "W/\"2\"",
                            "pattern": "^W/\"[0-9]+\"$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The id of the list. To retrieve the listID, you need to do a GET /List first. The successful response from GET /List endpoint contains the listID. See the example of successful response in [Get impairments](https://digital.nhs.uk/developer/api-catalogue/reasonable-adjustment-flag-fhir#api-Endpoints-readList) section. See the example below to know the listID from that response.",
                        "in": "path",
                        "name": "listID",
                        "required": true,
                        "schema": {
                            "example": "5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "code": {
                                    "coding": [
                                        {
                                            "code": "1094391000000102",
                                            "display": "Reasonable adjustments for health and care access",
                                            "system": "http://snomed.info/sct"
                                        }
                                    ]
                                },
                                "contained": [
                                    {
                                        "category": [
                                            {
                                                "coding": [
                                                    {
                                                        "code": "issue",
                                                        "display": "Issue",
                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                    }
                                                ]
                                            }
                                        ],
                                        "clinicalStatus": "active",
                                        "code": {
                                            "coding": [
                                                {
                                                    "code": "9",
                                                    "display": "Social or behavioural (for example associated with autism spectrum disorder (ASD) which includes Asperger’s, or attention deficit hyperactivity disorder (ADHD))",
                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConditionCode-1"
                                                }
                                            ]
                                        },
                                        "extension": [
                                            {
                                                "extension": [
                                                    {
                                                        "url": "created",
                                                        "valueReference": {
                                                            "reference": "Provenance/8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                        }
                                                    }
                                                ],
                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                            }
                                        ],
                                        "id": "dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-Condition-1"
                                            ],
                                            "versionId": "dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb"
                                        },
                                        "note": [
                                            {
                                                "text": "Updated notes"
                                            }
                                        ],
                                        "resourceType": "Condition",
                                        "subject": {
                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                        }
                                    },
                                    {
                                        "activity": {
                                            "code": "CREATE",
                                            "display": "create",
                                            "system": "http://hl7.org/fhir/v3/DataOperation"
                                        },
                                        "agent": [
                                            {
                                                "onBehalfOfReference": {
                                                    "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                    "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                },
                                                "role": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "R0050",
                                                                "display": "Consultant",
                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "whoReference": {
                                                    "display": "Healthchecks,Morning",
                                                    "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                }
                                            }
                                        ],
                                        "id": "8ce7de6b-1307-432d-8e96-ae6a613ca3e4",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                            ]
                                        },
                                        "recorded": "2021-02-25T10:39:10+00:00",
                                        "resourceType": "Provenance",
                                        "target": [
                                            {
                                                "reference": "Condition/dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb"
                                            }
                                        ]
                                    }
                                ],
                                "date": "2018-07-23T11:00:00+00:00",
                                "entry": [
                                    {
                                        "date": "2021-02-25T10:39:10+00:00",
                                        "deleted": false,
                                        "item": {
                                            "reference": "#dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb"
                                        }
                                    },
                                    {
                                        "date": "2021-02-25T10:39:10+00:00",
                                        "deleted": false,
                                        "item": {
                                            "reference": "#8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                        }
                                    }
                                ],
                                "meta": {
                                    "profile": [
                                        "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                    ],
                                    "versionId": "71502f39-cede-4c73-9545-57406beabebe"
                                },
                                "mode": "changes",
                                "resourceType": "List",
                                "status": "current",
                                "subject": {
                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                },
                                "title": "Reasonable Adjustment List"
                            },
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "description": "Update list",
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "code": {
                                        "coding": [
                                            {
                                                "code": "1094391000000102",
                                                "display": "Reasonable adjustments for health and care access",
                                                "system": "http://snomed.info/sct"
                                            }
                                        ]
                                    },
                                    "contained": [
                                        {
                                            "category": [
                                                {
                                                    "coding": [
                                                        {
                                                            "code": "issue",
                                                            "display": "Issue",
                                                            "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "clinicalStatus": "active",
                                            "code": {
                                                "coding": [
                                                    {
                                                        "code": "5",
                                                        "display": "Learning or understanding or concentrating",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-ConditionCode-1"
                                                    }
                                                ]
                                            },
                                            "extension": [
                                                {
                                                    "extension": [
                                                        {
                                                            "url": "created",
                                                            "valueReference": {
                                                                "reference": "Provenance/8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                                            }
                                                        }
                                                    ],
                                                    "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                }
                                            ],
                                            "id": "dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-Condition-1"
                                                ]
                                            },
                                            "note": [
                                                {
                                                    "text": "Some notes"
                                                }
                                            ],
                                            "resourceType": "Condition",
                                            "subject": {
                                                "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                            }
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "8ce7de6b-1307-432d-8e96-ae6a613ca3e4",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-17T16:11:38+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "Condition/dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb"
                                                }
                                            ]
                                        }
                                    ],
                                    "date": "2018-07-23T11:00:00+00:00",
                                    "entry": [
                                        {
                                            "date": "2021-03-17T16:11:38+00:00",
                                            "deleted": false,
                                            "item": {
                                                "reference": "#dbdfb9a6-6f75-42e4-9bd8-63c6f83cfceb"
                                            }
                                        },
                                        {
                                            "date": "2021-03-17T16:11:38+00:00",
                                            "deleted": false,
                                            "item": {
                                                "reference": "#8ce7de6b-1307-432d-8e96-ae6a613ca3e4"
                                            }
                                        }
                                    ],
                                    "id": "5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                                    "meta": {
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                        ],
                                        "versionId": "cb528c60-9d64-43a2-a34c-88d53877d867"
                                    },
                                    "mode": "changes",
                                    "resourceType": "List",
                                    "status": "current",
                                    "subject": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    },
                                    "title": "Reasonable Adjustment List"
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "Content-Type": {
                                            "example": "application/fhir+json",
                                            "type": "string"
                                        },
                                        "Date": {
                                            "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                            "format": "date-time",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "CONFLICT"
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Update impairments"
            }
        },
        "/ThresholdCode": {
            "get": {
                "description": "## Overview\nUse this endpoint to view ThresholdCode  against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine). ",
                "operationId": "readThresholdCode",
                "parameters": [
                    {
                        "description": "The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS number](https://datadictionary.nhs.uk/attributes/nhs_number.html).",
                        "in": "query",
                        "name": "patient",
                        "required": true,
                        "schema": {
                            "example": "5900026175",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The status of the patient resource. Active or Inactive.",
                        "in": "query",
                        "name": "status",
                        "required": true,
                        "schema": {
                            "example": "active",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The category of the resource being interacted with.",
                        "in": "query",
                        "name": "category",
                        "required": true,
                        "schema": {
                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF",
                            "type": "string"
                        }
                    },
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "0 ThresholdCode": {
                                        "summary": "The response from a successful request (0 ThresholdCode).",
                                        "value": {
                                            "id": "30e9a5d5-c037-42ed-9ee4-476add4d6b43",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://clinicals.spineservices.nhs.uk/STU3/purest?patient=999999998&status=active&category=https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 0,
                                            "type": "searchset"
                                        }
                                    },
                                    "1 ThresholdCode": {
                                        "summary": "The response from a successful request (1 ThresholdCode).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/ThresholdCode/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments ThresholdCode",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:45:02+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "ThresholdCode",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "6671bd5f-5f4e-4def-992f-71f8df34b063",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/ThresholdCode?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 1,
                                            "type": "searchset"
                                        }
                                    },
                                    "2 ThresholdCode": {
                                        "summary": "The response from a successful request (2 ThresholdCode).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/ThresholdCode/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Threshold Code",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "367741000000102",
                                                                    "display": "Requires information verbally",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "004",
                                                                            "display": "Requires specific information format",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:28+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "ThresholdCode",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                },
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/ThresholdCode/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Threshold Code",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "ThresholdCode/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:37+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "ThresholdCode",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "09be8716-5bef-4a68-bcba-a692669b31c6",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/ThresholdCode?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 2,
                                            "type": "searchset"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Get ThresholdCode"
            }
        },
        "/UnderlyingConditionList": {
            "get": {
                "description": "## Overview\nUse this endpoint to view underlying conditions against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine). ",
                "operationId": "readUnderlyingCondition",
                "parameters": [
                    {
                        "description": "The patient's NHS number. The primary identifier of a patient, unique within NHS England and Wales. Always 10 digits and must be a [valid NHS number](https://datadictionary.nhs.uk/attributes/nhs_number.html).",
                        "in": "query",
                        "name": "patient",
                        "required": true,
                        "schema": {
                            "example": "5900026175",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The status of the patient resource. Active or Inactive.",
                        "in": "query",
                        "name": "status",
                        "required": true,
                        "schema": {
                            "example": "active",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The category of the resource being interacted with.",
                        "in": "query",
                        "name": "category",
                        "required": true,
                        "schema": {
                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF",
                            "type": "string"
                        }
                    },
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "0 UnderlyingConditionList": {
                                        "summary": "The response from a successful request (0 UnderlyingConditionList).",
                                        "value": {
                                            "id": "30e9a5d5-c037-42ed-9ee4-476add4d6b43",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://clinicals.spineservices.nhs.uk/STU3/UnderlyingConditionList?patient=999999998&status=active&category=https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1|NRAF"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 0,
                                            "type": "searchset"
                                        }
                                    },
                                    "1 UnderlyingConditionList": {
                                        "summary": "The response from a successful request (1 UnderlyingConditionList).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/UnderlyingConditionList/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Underlying Condition List",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:45:02+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:45:02+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "UnderlyingConditionList",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "6671bd5f-5f4e-4def-992f-71f8df34b063",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/UnderlyingConditionList?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 1,
                                            "type": "searchset"
                                        }
                                    },
                                    "2 UnderlyingConditionList": {
                                        "summary": "The response from a successful request (2 UnderlyingConditionList).",
                                        "value": {
                                            "entry": [
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/UnderlyingConditionList/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Underlying Condition List",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "367741000000102",
                                                                    "display": "Requires information verbally",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:28+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "004",
                                                                            "display": "Requires specific information format",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.3d4b1d85-bcdb-4a1b-b423-4b3b0569ce73",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:28+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "UnderlyingConditionList",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                },
                                                {
                                                    "fullUrl": "https://clinicals.spineservices.nhs.uk/STU3/UnderlyingConditionList/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                    "resource": {
                                                        "category": {
                                                            "coding": [
                                                                {
                                                                    "code": "NRAF",
                                                                    "display": "National Reasonable Adjustments Underlying Condition List",
                                                                    "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                                                }
                                                            ]
                                                        },
                                                        "code": {
                                                            "coding": [
                                                                {
                                                                    "code": "945951000000108",
                                                                    "display": "Requires visual alert",
                                                                    "system": "https://snomed.info/sct"
                                                                }
                                                            ]
                                                        },
                                                        "contained": [
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "agent": [
                                                                    {
                                                                        "onBehalfOfReference": {
                                                                            "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                                        },
                                                                        "role": [
                                                                            {
                                                                                "coding": [
                                                                                    {
                                                                                        "code": "R0050",
                                                                                        "display": "Consultant",
                                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ],
                                                                        "whoReference": {
                                                                            "display": "Healthchecks,Morning",
                                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                                        }
                                                                    }
                                                                ],
                                                                "id": "0719ef10-346e-4378-8bf3-d878e0defbd8",
                                                                "meta": {
                                                                    "profile": [
                                                                        "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                                    ]
                                                                },
                                                                "recorded": "2021-03-18T14:53:37+00:00",
                                                                "resourceType": "Provenance",
                                                                "target": [
                                                                    {
                                                                        "reference": "UnderlyingConditionList/5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "extension": [
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            },
                                                            {
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "003",
                                                                            "display": "Requires specific contact method",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "extension": [
                                                                    {
                                                                        "url": "Created",
                                                                        "valueReference": {
                                                                            "reference": "#0719ef10-346e-4378-8bf3-d878e0defbd8"
                                                                        }
                                                                    }
                                                                ],
                                                                "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                                            }
                                                        ],
                                                        "id": "5900026175.2df78589-8278-46a5-a7b0-40f3c769c71f",
                                                        "meta": {
                                                            "lastUpdated": "2021-03-18T14:53:37+00:00",
                                                            "profile": [
                                                                "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                                            ],
                                                            "versionId": "1"
                                                        },
                                                        "resourceType": "UnderlyingConditionList",
                                                        "status": "active",
                                                        "subject": {
                                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                                        }
                                                    }
                                                }
                                            ],
                                            "id": "09be8716-5bef-4a68-bcba-a692669b31c6",
                                            "link": [
                                                {
                                                    "relation": "self",
                                                    "url": "https://internet_mps/STU3/UnderlyingConditionList?patient=5900026175&category=https%3A%2F%2Ffhir.nhs.uk%2FSTU3%2FCodeSystem%2FRARecord-FlagCategory-1%7CNRAF&status=active"
                                                }
                                            ],
                                            "meta": {
                                                "profile": [
                                                    "http://hl7.org/fhir/bundle"
                                                ]
                                            },
                                            "resourceType": "Bundle",
                                            "total": 2,
                                            "type": "searchset"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Get underlying condition"
            },
            "post": {
                "description": "## Overview\nUse this endpoint to add underlying condition against the patient record on the [NHS Spine](https://digital.nhs.uk/services/spine).",
                "operationId": "postUnderlyingCondition",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "example": {
                                "category": [
                                    {
                                        "coding": [
                                            {
                                                "code": "issue",
                                                "display": "Issue",
                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                            }
                                        ]
                                    }
                                ],
                                "clinicalStatus": "active",
                                "code": {
                                    "coding": [
                                        {
                                            "code": "408856003",
                                            "display": "Autistic disorder",
                                            "system": "https://snomed.info/sct"
                                        }
                                    ]
                                },
                                "resourceType": "Condition",
                                "subject": {
                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                }
                            },
                            "schema": {
                                "properties": {
                                    "category": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "reasonable adjustment UnderlyingConditionList",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Reasonable Adjustment Underlying Condition List",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "code": {
                                        "properties": {
                                            "coding": {
                                                "items": {
                                                    "properties": {
                                                        "code": {
                                                            "example": "796161000000101",
                                                            "type": "string"
                                                        },
                                                        "display": {
                                                            "example": "Requires information in Easyread",
                                                            "type": "string"
                                                        },
                                                        "system": {
                                                            "example": "https://snomed.info/sct",
                                                            "type": "string"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "extension": {
                                        "items": {
                                            "properties": {
                                                "url": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                                    "type": "string"
                                                },
                                                "valueCodeableConcept": {
                                                    "properties": {
                                                        "coding": {
                                                            "items": {
                                                                "properties": {
                                                                    "code": {
                                                                        "example": "001",
                                                                        "type": "string"
                                                                    },
                                                                    "display": {
                                                                        "example": "Communication support",
                                                                        "type": "string"
                                                                    },
                                                                    "system": {
                                                                        "example": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1",
                                                                        "type": "string"
                                                                    }
                                                                },
                                                                "type": "object"
                                                            },
                                                            "type": "array"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "meta": {
                                        "properties": {
                                            "profile": {
                                                "items": {
                                                    "example": "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1",
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "resourceType": {
                                        "example": "UnderlyingConditionList",
                                        "type": "string"
                                    },
                                    "status": {
                                        "example": "active",
                                        "type": "string"
                                    },
                                    "subject": {
                                        "properties": {
                                            "reference": {
                                                "example": "demographics.spineservices.nhs.uk/STU3/Patient/999999998",
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    },
                    "description": "Add Underlying Condition",
                    "required": true
                },
                "responses": {
                    "201": {
                        "content": {
                            "application/json": {
                                "example": {
                                    "category": {
                                        "coding": [
                                            {
                                                "code": "NRAF",
                                                "display": "National Reasonable Adjustments Underlying Condition List",
                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-FlagCategory-1"
                                            }
                                        ]
                                    },
                                    "code": {
                                        "coding": [
                                            {
                                                "code": "945951000000108",
                                                "display": "Requires visual alert",
                                                "system": "https://snomed.info/sct"
                                            }
                                        ]
                                    },
                                    "contained": [
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "UnderlyingConditionList/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        },
                                        {
                                            "agent": [
                                                {
                                                    "onBehalfOfReference": {
                                                        "display": "WEST POTTERGATE HLTH CTR (D82106)",
                                                        "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/D82106"
                                                    },
                                                    "role": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "R0050",
                                                                    "display": "Consultant",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "whoReference": {
                                                        "display": "Healthchecks,Morning",
                                                        "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/093895563513"
                                                    }
                                                }
                                            ],
                                            "id": "fb23002b-86d0-43b1-8742-2f1026179ff2",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Provenance-1"
                                                ]
                                            },
                                            "recorded": "2021-03-18T14:45:02+00:00",
                                            "resourceType": "Provenance",
                                            "target": [
                                                {
                                                    "reference": "UnderlyingConditionList/5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a"
                                                }
                                            ]
                                        }
                                    ],
                                    "extension": [
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        },
                                        {
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-AdjustmentCategory-1",
                                            "valueCodeableConcept": {
                                                "coding": [
                                                    {
                                                        "code": "003",
                                                        "display": "Requires specific contact method",
                                                        "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-AdjustmentCategory-1"
                                                    }
                                                ]
                                            }
                                        },
                                        {
                                            "extension": [
                                                {
                                                    "url": "Created",
                                                    "valueReference": {
                                                        "reference": "#fb23002b-86d0-43b1-8742-2f1026179ff2"
                                                    }
                                                }
                                            ],
                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-Provenance-1"
                                        }
                                    ],
                                    "id": "5900026175.b1fe6cc0-7bf5-453c-a396-1ae97cfad72a",
                                    "meta": {
                                        "lastUpdated": "2021-03-18T14:45:02+00:00",
                                        "profile": [
                                            "https://fhir.nhs.uk/STU3/StructureDefinition/RARecord-Flag-1"
                                        ],
                                        "versionId": "1"
                                    },
                                    "resourceType": "UnderlyingConditionList",
                                    "status": "active",
                                    "subject": {
                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/5900026175"
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "Location": {
                                "description": "The location of the resource.",
                                "schema": {
                                    "example": "https://clinicals.spineservices.nhs.uk/STU3/[type]/[id]/_history/[vid]",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n                  \n"
                    }
                },
                "summary": "Add Underlying Condition"
            }
        },
        "/UnderlyingConditionList/{listID}": {
            "put": {
                "description": "## Overview\nUse this endpoint to update a list of underlying condition held within the [Reasonable Adjustment Flag](https://digital.nhs.uk/services/reasonable-adjustment-flag) information held on the [NHS Spine](https://digital.nhs.uk/services/spine).",
                "operationId": "updateUnderlyingCondition",
                "parameters": [
                    {
                        "description": "An [OAuth 2.0 bearer token](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation#user-restricted-apis).\n\n**Note: This parameter is required unless interacting with the Sandbox.**\n",
                        "in": "header",
                        "name": "Authorization",
                        "required": false,
                        "schema": {
                            "example": "Bearer g1112R_ccQ1Ebbb4gtHBP1aaaNM",
                            "format": "^Bearer\\ [[:ascii:]]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The user role ID (URID) for the current session. Also known as a user role profile ID (URPID).\n\nIf you are using User-restricted RESTful APIs - NHS login combined authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-combined-authentication-and-authorisation#step-7-determine-the-user-s-role) guidance.\nIf you are using User-restricted RESTful APIs - NHS login separate authentication and authorisation, See [determine the user's role](https://digital.nhs.uk/developer/guides-and-documentation/security-and-authorisation/user-restricted-restful-apis-nhs-cis2-separate-authentication-and-authorisation#step-9-determine-the-user-s-role) guidance.\n\nThis field is optional.\n",
                        "in": "header",
                        "name": "NHSD-Session-URID",
                        "required": false,
                        "schema": {
                            "example": "555021935107",
                            "pattern": "^[0-9]+$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to trace the request if you contact our helpdesk.\nMirrored back in a response header.\nAvoid characters.\n",
                        "in": "header",
                        "name": "X-Correlation-ID",
                        "required": false,
                        "schema": {
                            "example": "11C46F5F-CDEF-4865-94B2-0EE0EDCC26DA",
                            "type": "string"
                        }
                    },
                    {
                        "description": "A globally unique identifier (GUID) for the request, which we use to de-duplicate repeated requests.\nMust be a universally unique identifier (UUID) (ideally version 4).\nIf you re-send a failed request, use the same value in this header.\nMirrored back in a response header.\n\n**Required in all environments except sandbox.**\n",
                        "in": "header",
                        "name": "X-Request-ID",
                        "required": false,
                        "schema": {
                            "example": "60E0B220-8136-4CA5-AE46-1D97EF59D068",
                            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "Latest known version identifier enclosed in quotes preceded by `W/`.\nSend the value of the patient's `ETag` response header on patient retrieval when updating a patient.\nThis is to ensure that any updates are applied against an up-to-date version of the patient resource.\n",
                        "in": "header",
                        "name": "If-Match",
                        "required": true,
                        "schema": {
                            "example": "W/\"2\"",
                            "pattern": "^W/\"[0-9]+\"$",
                            "type": "string"
                        }
                    },
                    {
                        "description": "The id of the list. To retrieve the listID, you need to do a GET /List first. The successful response from GET /List endpoint contains the listID. See the example of successful response in [Get impairments](https://digital.nhs.uk/developer/api-catalogue/reasonable-adjustment-flag-fhir#api-Endpoints-readList) section. See the example below to know the listID from that response.",
                        "in": "path",
                        "name": "listID",
                        "required": true,
                        "schema": {
                            "example": "5900026175.3d368fbe-e621-4c0b-be74-9a59b4f0e467",
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/fhir+json": {
                            "examples": {
                                "success": {
                                    "value": {
                                        "code": {
                                            "coding": [
                                                {
                                                    "code": "1094391000000102",
                                                    "display": "Reasonable adjustments for health and care access",
                                                    "system": "http://snomed.info/sct"
                                                }
                                            ]
                                        },
                                        "contained": [
                                            {
                                                "category": [
                                                    {
                                                        "coding": [
                                                            {
                                                                "code": "issue",
                                                                "display": "Issue",
                                                                "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "clinicalStatus": "active",
                                                "code": {
                                                    "coding": [
                                                        {
                                                            "code": "408856003",
                                                            "display": "Autistic disorder",
                                                            "system": "https://snomed.info/sct"
                                                        }
                                                    ]
                                                },
                                                "extension": [
                                                    {
                                                        "extension": [
                                                            {
                                                                "url": "removalReason",
                                                                "valueCodeableConcept": {
                                                                    "coding": [
                                                                        {
                                                                            "code": "Error",
                                                                            "display": "The Reasonable Adjustment Flag was created in error",
                                                                            "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            {
                                                                "url": "supportingComment",
                                                                "valueString": "Reasonable Adjustment Flag was created in error"
                                                            }
                                                        ],
                                                        "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                                    }
                                                ],
                                                "id": "18965b02-b29f-42f4-9459-535deb2eaacc",
                                                "resourceType": "Condition",
                                                "subject": {
                                                    "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/999999998"
                                                }
                                            },
                                            {
                                                "activity": {
                                                    "code": "CREATE",
                                                    "display": "create",
                                                    "system": "http://hl7.org/fhir/v3/DataOperation"
                                                },
                                                "agent": [
                                                    {
                                                        "onBehalfOfReference": {
                                                            "display": "Some GP Clinic",
                                                            "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7"
                                                        },
                                                        "role": [
                                                            {
                                                                "coding": [
                                                                    {
                                                                        "code": "R0260",
                                                                        "display": "General Medical Practitioner",
                                                                        "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        "whoReference": {
                                                            "display": "Dr.D",
                                                            "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/2ee4tr6a9"
                                                        }
                                                    }
                                                ],
                                                "id": "db4e7f9f-6730-4d48-b372-de7e5bae8bd4",
                                                "recorded": "2023-04-11T11:00:00+00:00",
                                                "resourceType": "Provenance",
                                                "target": [
                                                    {
                                                        "reference": "#"
                                                    }
                                                ]
                                            }
                                        ],
                                        "date": "2023-04-11T11:00:00+00:00",
                                        "entry": [
                                            {
                                                "date": "2023-04-11T11:00:00+00:00",
                                                "deleted": false,
                                                "item": {
                                                    "reference": "urn:uuid:18965b02-b29f-42f4-9459-535deb2eaacc"
                                                }
                                            },
                                            {
                                                "date": "2023-04-11T11:00:00+00:00",
                                                "deleted": false,
                                                "item": {
                                                    "reference": "urn:uuid:db4e7f9f-6730-4d48-b372-de7e5bae8bd4"
                                                }
                                            }
                                        ],
                                        "id": "fd756ccc-e6d2-4e40-991d-b022abc20aa0",
                                        "meta": {
                                            "profile": [
                                                "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                            ],
                                            "versionId": "616201a0-1364-427b-999f-750691b08989"
                                        },
                                        "mode": "changes",
                                        "resourceType": "List",
                                        "status": "current",
                                        "subject": {
                                            "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/999999998"
                                        },
                                        "title": "Reasonable Adjustment List"
                                    }
                                }
                            },
                            "schema": {
                                "type": "object"
                            }
                        }
                    },
                    "description": "Update UnderlyingCondition",
                    "required": true
                },
                "responses": {
                    "200": {
                        "content": {
                            "application/json": {
                                "examples": {
                                    "Successful": {
                                        "summary": "The response from a successful request.",
                                        "value": {
                                            "code": {
                                                "coding": [
                                                    {
                                                        "code": "1094391000000102",
                                                        "display": "Reasonable adjustments for health and care access",
                                                        "system": "http://snomed.info/sct"
                                                    }
                                                ]
                                            },
                                            "contained": [
                                                {
                                                    "category": [
                                                        {
                                                            "coding": [
                                                                {
                                                                    "code": "issue",
                                                                    "display": "Issue",
                                                                    "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-ConditionCategory-1"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    "clinicalStatus": "inactive",
                                                    "code": {
                                                        "coding": [
                                                            {
                                                                "code": "408856003",
                                                                "display": "Autistic disorder",
                                                                "system": "https://snomed.info/sct"
                                                            }
                                                        ]
                                                    },
                                                    "extension": [
                                                        {
                                                            "extension": [
                                                                {
                                                                    "url": "removalReason",
                                                                    "valueCodeableConcept": {
                                                                        "coding": [
                                                                            {
                                                                                "code": "Error",
                                                                                "display": "The Reasonable Adjustment Flag was created in error",
                                                                                "system": "https://fhir.nhs.uk/STU3/CodeSystem/RARecord-RemovalReason-1"
                                                                            }
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "url": "supportingComment",
                                                                    "valueString": "Reasonable Adjustment Flag was created in error"
                                                                }
                                                            ],
                                                            "url": "https://fhir.nhs.uk/STU3/StructureDefinition/Extension-RARecord-RemovalReason-1"
                                                        }
                                                    ],
                                                    "id": "18965b02-b29f-42f4-9459-535deb2eaacc",
                                                    "resourceType": "Condition",
                                                    "subject": {
                                                        "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/999999998"
                                                    }
                                                },
                                                {
                                                    "activity": {
                                                        "code": "CREATE",
                                                        "display": "create",
                                                        "system": "http://hl7.org/fhir/v3/DataOperation"
                                                    },
                                                    "agent": [
                                                        {
                                                            "onBehalfOfReference": {
                                                                "display": "Some GP Clinic",
                                                                "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7"
                                                            },
                                                            "role": [
                                                                {
                                                                    "coding": [
                                                                        {
                                                                            "code": "R0260",
                                                                            "display": "General Medical Practitioner",
                                                                            "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                        }
                                                                    ]
                                                                }
                                                            ],
                                                            "whoReference": {
                                                                "display": "Dr.D",
                                                                "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/2ee4tr6a9"
                                                            }
                                                        }
                                                    ],
                                                    "id": "db4e7f9f-6730-4d48-b372-de7e5bae8bd4",
                                                    "recorded": "2023-04-11T11:00:00+00:00",
                                                    "resourceType": "Provenance",
                                                    "target": [
                                                        {
                                                            "reference": "#"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "activity": {
                                                        "code": "UPDATE",
                                                        "display": "revise",
                                                        "system": "http://hl7.org/fhir/v3/DataOperation"
                                                    },
                                                    "agent": [
                                                        {
                                                            "onBehalfOfReference": {
                                                                "display": "Some GP Clinic",
                                                                "reference": "https://directory.spineservices.nhs.uk/STU3/Organization/a3e5i7"
                                                            },
                                                            "role": [
                                                                {
                                                                    "coding": [
                                                                        {
                                                                            "code": "R0260",
                                                                            "display": "General Medical Practitioner",
                                                                            "system": "https://fhir.hl7.org.uk/STU3/CodeSystem/CareConnect-SDSJobRoleName-1"
                                                                        }
                                                                    ]
                                                                }
                                                            ],
                                                            "whoReference": {
                                                                "display": "Dr.D",
                                                                "reference": "https://sds.spineservices.nhs.uk/STU3/Practitioner/2ee4tr6a9"
                                                            }
                                                        }
                                                    ],
                                                    "id": "a77a657b-9883-4c0f-b141-3b511ff07754",
                                                    "recorded": "2023-04-14T11:00:00+00:00",
                                                    "resourceType": "Provenance",
                                                    "target": [
                                                        {
                                                            "reference": "#"
                                                        }
                                                    ]
                                                }
                                            ],
                                            "date": "2023-04-11T11:00:00+00:00",
                                            "entry": [
                                                {
                                                    "date": "2023-04-11T11:00:00+00:00",
                                                    "deleted": true,
                                                    "item": {
                                                        "reference": "urn:uuid:18965b02-b29f-42f4-9459-535deb2eaacc"
                                                    }
                                                },
                                                {
                                                    "date": "2023-04-11T11:00:00+00:00",
                                                    "deleted": false,
                                                    "item": {
                                                        "reference": "urn:uuid:db4e7f9f-6730-4d48-b372-de7e5bae8bd4"
                                                    }
                                                },
                                                {
                                                    "date": "2023-04-11T11:00:00+00:00",
                                                    "deleted": false,
                                                    "item": {
                                                        "reference": "urn:uuid:a77a657b-9883-4c0f-b141-3b511ff07754"
                                                    }
                                                }
                                            ],
                                            "id": "fd756ccc-e6d2-4e40-991d-b022abc20aa0",
                                            "meta": {
                                                "profile": [
                                                    "https://fhir.nhs.uk/STU3/StructureDefinition/CareConnect-RARecord-List-1"
                                                ],
                                                "versionId": "0e356a77-0544-42ef-90a4-229a1cbe06af"
                                            },
                                            "mode": "changes",
                                            "resourceType": "List",
                                            "status": "current",
                                            "subject": {
                                                "reference": "https://demographics.spineservices.nhs.uk/STU3/Patient/999999998"
                                            },
                                            "title": "Reasonable Adjustment List"
                                        }
                                    }
                                }
                            }
                        },
                        "description": "Successful response.",
                        "headers": {
                            "Content-Type": {
                                "description": "The content type of the response.",
                                "schema": {
                                    "example": "application/fhir+json",
                                    "type": "string"
                                }
                            },
                            "Date": {
                                "description": "The current date.",
                                "schema": {
                                    "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            },
                            "ETag": {
                                "description": "Record version identifier enclosed in quotes and preceded by 'W/'. For example, `W/\"2\"`.\n\nCorresponds to `meta.versionId` attribute in the patient resource body.\n\nWhen you retrieve a patient resource, you get a version number for the resource (in the `ETag` response header and in the `versionId` field in the response).\nYou must then pass the resource's version number in any update request (in the `If-Match` response header) made for the patient.\n",
                                "schema": {
                                    "example": "W/\"2\"",
                                    "pattern": "^W/\"[0-9]+\"$",
                                    "type": "string"
                                }
                            },
                            "Last-Modified": {
                                "description": "The date the resource was last modified.",
                                "schema": {
                                    "example": "2018-07-23T11:00:00+00:00",
                                    "format": "date-time",
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "400": {
                        "content": {
                            "application/fhir+json": {
                                "examples": {
                                    "invalid-nhsNumber": {
                                        "summary": "Invalid NHS number for patient supplied.",
                                        "value": {
                                            "issue": [
                                                {
                                                    "code": "value",
                                                    "details": {
                                                        "coding": [
                                                            {
                                                                "code": "INVALID_NHS_NUMBER",
                                                                "display": "Invalid NHS number",
                                                                "system": "https://fhir.nhs.uk/STU3/ValueSet/Spine-ErrorOrWarningCode-1"
                                                            }
                                                        ]
                                                    },
                                                    "severity": "error"
                                                }
                                            ],
                                            "resourceType": "OperationOutcome"
                                        }
                                    }
                                },
                                "schema": {
                                    "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\n",
                                    "properties": {
                                        "issue": {
                                            "description": "List of issues that have occurred.",
                                            "items": {
                                                "properties": {
                                                    "code": {
                                                        "description": "FHIR error code.",
                                                        "enum": [
                                                            "invalid",
                                                            "structure",
                                                            "required",
                                                            "value",
                                                            "invariant",
                                                            "security",
                                                            "login",
                                                            "unknown",
                                                            "expired",
                                                            "forbidden",
                                                            "suppressed",
                                                            "processing",
                                                            "not-supported",
                                                            "duplicate",
                                                            "multiple-matches",
                                                            "not-found",
                                                            "deleted",
                                                            "too-long",
                                                            "code-invalid",
                                                            "extension",
                                                            "too-costly",
                                                            "business-rule",
                                                            "conflict",
                                                            "transient",
                                                            "lock-error",
                                                            "no-store",
                                                            "exception",
                                                            "timeout",
                                                            "incomplete",
                                                            "throttled",
                                                            "informational"
                                                        ],
                                                        "example": "invalid",
                                                        "type": "string"
                                                    },
                                                    "details": {
                                                        "description": "Internal error code.",
                                                        "properties": {
                                                            "coding": {
                                                                "items": {
                                                                    "properties": {
                                                                        "code": {
                                                                            "description": "Symbol in syntax defined by the system.",
                                                                            "example": "INVALID_VALUE",
                                                                            "type": "string"
                                                                        },
                                                                        "display": {
                                                                            "description": "Representation defined by the system.",
                                                                            "example": "Provided value is invalid",
                                                                            "type": "string"
                                                                        },
                                                                        "system": {
                                                                            "description": "URI of the coding system specification.",
                                                                            "example": "https://fhir.nhs.uk/R4/CodeSystoperationOutcome.yamlem/Spine-ErrorOrWarningCode",
                                                                            "type": "string"
                                                                        },
                                                                        "version": {
                                                                            "description": "Version of the coding system in use.",
                                                                            "example": "1",
                                                                            "type": "string"
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                },
                                                                "type": "array"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "diagnostics": {
                                                        "description": "Additional diagnostic information about the issue.",
                                                        "example": "Invalid value - 2019-01 in field 'birthDate'",
                                                        "type": "string"
                                                    },
                                                    "expression": {
                                                        "description": "FHIRPath of element(s) related to the error.",
                                                        "example": "Patient.name.given",
                                                        "type": "string"
                                                    },
                                                    "severity": {
                                                        "description": "Severity of the error.",
                                                        "enum": [
                                                            "fatal",
                                                            "error",
                                                            "warning",
                                                            "information"
                                                        ],
                                                        "example": "error",
                                                        "type": "string"
                                                    }
                                                },
                                                "required": [
                                                    "severity",
                                                    "code"
                                                ],
                                                "type": "object"
                                            },
                                            "minItems": 1,
                                            "type": "array"
                                        },
                                        "resourceType": {
                                            "default": "OperationOutcome",
                                            "description": "FHIR Resource Type.",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "Invalid parameters."
                    },
                    "409": {
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "Content-Type": {
                                            "example": "application/fhir+json",
                                            "type": "string"
                                        },
                                        "Date": {
                                            "example": "Tue, 23 Jul 2018 11:00:00 GMT",
                                            "format": "date-time",
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        },
                        "description": "CONFLICT"
                    },
                    "4XX": {
                        "description": "Outcome of an operation that does not result in a resource or bundle being returned (e.g. error, async/batch submission).\nThere are a number of possible error codes that can be returned along with a more detailed description in the `display` field.\nThere are general outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| ACCESS_DENIED              | 401           | Used when the user does not have permission for a particular request. e.g. when their ASID does not have the correct interactions attached to it. \t|\n| UNABLE_TO_CALL_SERVICE     | 408           | For a synchronous request, the downstream domain processing has not completed within the configured timeout period. |\n| UNSUPPORTED_SERVICE        | 400           | The service the user requested is an endpoint that does not exist - so is unsupported. e.g. /Patient/9999999999/Pets |\n| RESOURCE_NOT_FOUND         | 404           | The resource was not found. |\n| INVALID_RESOURCE_ID        | 400           | The resource ID was not valid. For example a NHS number is presented which is not a valid NHS number. |\n| INVALIDATED_RESOURCE       | 404           | The resource has been invalidated so could not be returned. |\n\nUpdate outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| PRECONDITION_FAILED        | 412           | Request missing basic requirements such as If-Match header (or invalid headers). |\n| RESOURCE_VERSION_MISMATCH  | 409           | The resource version has changed since your last read, so the update has been rejected. |\n| FORBIDDEN_UPDATE           | 403           | The user is not permitted to update certain resources or elements - a detailed description will be added to the display. For example - updating a sensitive patient or adding a formal death notification is only permitted from certain systems. |\n| VALIDATION_ERROR           | 400           | This it the \"default\" error thrown when no others are applicable. |\n| INVALID_UPDATE             | 400           | The update was invalid - a detailed description will be added to the display. |\n| MISSING_VALUE              | 400           | There was a missing value in the request. For example - a name update that is missing the surname. The missing value will be presented in the display.\t|\n| INVALID_VALUE              | 400           | There was an invalid value in the request. For example - a name update where the surname is too long. The invalid value and field will be presented in the display. |\n| UNSUPPORTED_VALUE          | 400           | There was an unsupported value in the request. The value may be valid in the schema - however it could be a legacy value that we do not allow to be set anymore. For example - setting the death notification status to 'removed'. The invalid value and field will be presented in the display. |\n| TOO_FEW_VALUES_SUBMITTED   | 400           | The field in question has a minimum number of items and the user sent too few. |\n| TOO_MANY_VALUES_SUBMITTED  | 400           | The field in question has a maximum number of items and the user sent too many. |\n| ADDITIONAL_PROPERTIES      | 400           | The user sent additional properties within the dictionary. For example sending a patient patch and attempting to add 'pets', which is not an allowed field within the patient resource. |\n\nPolling outcomes:\n\n| Code                       | Response Code | Description                                   |\n| -------------------------- | ------------- | --------------------------------------------- |\n| POLLING_ID_NOT_FOUND       | 404           | When polling the ID was not found - or it was not applicable such as a non polling ID.\t|\n| POLLING_MESSAGE_FAILURE    | 422           | When polling an ID, a message was found to be in a failed state, so there is nothing else to be done and should be considered a failure. |\n"
                    }
                },
                "summary": "Update underlying condition"
            }
        }
    },
    "servers": [
        {
            "description": "Sandbox environment.",
            "url": "https://sandbox.api.service.nhs.uk/reasonable-adjustment-flag/FHIR/STU3"
        }
    ]
}